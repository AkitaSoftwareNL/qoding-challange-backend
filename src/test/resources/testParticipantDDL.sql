DROP TABLE IF EXISTS CONFERENCE;
DROP TABLE IF EXISTS PARTICIPANT_OF_CAMPAIGN;
DROP TABLE IF EXISTS CAMPAIGN;
DROP TABLE IF EXISTS GIVEN_ANSWER;

CREATE TABLE CONFERENCE
(
   PARTICIPANTID        char(45) NOT NULL,
   FIRSTNAME            VARCHAR(255) NOT NULL,
   INSERTION            VARCHAR(20),
   LASTNAME             VARCHAR(255) NOT NULL,
   EMAIL                VARCHAR(255),
   PHONENUMBER          BIGINT,
   PRIMARY KEY (PARTICIPANTID)
);

CREATE TABLE PARTICIPANT_OF_CAMPAIGN
(
   PARTICIPANTID        char(45) NOT NULL,
   CAMPAIGN_ID          INT,
   TIME_STARTED         TIMESTAMP NOT NULL DEFAULT now(),
   TIME_ENDED           TIMESTAMP NULL,
   TIME_SPEND           BIGINT AS (TIMESTAMPDIFF(MICROSECOND ,TIME_STARTED, TIME_ENDED) / 1000),
   PRIMARY KEY (PARTICIPANTID, CAMPAIGN_ID)
);

CREATE TABLE CAMPAIGN
(
   CAMPAIGN_ID          INT,
   CAMPAIGN_NAME        VARCHAR(255) NOT NULL UNIQUE,
   CATEGORY_NAME        VARCHAR(255) NOT NULL,
   CAMPAIGN_TYPE        VARCHAR(255) NOT NULL,
   USERNAME             VARCHAR(255) NOT NULL,
   AMOUNT_OF_QUESTIONS  SMALLINT NOT NULL,
   TIMELIMIT            SMALLINT,
   STATE                BOOL NOT NULL,
   TIMESTAMP_CREATED    TIMESTAMP NOT NULL DEFAULT now(),
   PRIMARY KEY (CAMPAIGN_ID)
);

create table GIVEN_ANSWER
(
  QUESTIONID    smallint      not null,
  PARTICIPANTID char(36)      not null,
  CAMPAIGN_ID   int  not null,
  STATEID       smallint      not null,
  GIVEN_ANSWER  varchar(1024) not null,
  primary key (QUESTIONID, PARTICIPANTID, CAMPAIGN_ID)
);

insert into GIVEN_ANSWER (QUESTIONID, PARTICIPANTID, CAMPAIGN_ID, STATEID, GIVEN_ANSWER)
values (3, 1, 1, 1, 'A');

INSERT INTO conference (PARTICIPANTID, FIRSTNAME, INSERTION, LASTNAME, EMAIL, PHONENUMBER) VALUES ('1', 'Gray', null, 'Snare', 'gsnare0@xinhuanet.com', 2219773471);
INSERT INTO conference (PARTICIPANTID, FIRSTNAME, INSERTION, LASTNAME, EMAIL, PHONENUMBER) VALUES ('2', 'Germayne', null, 'Greated', 'ggreated1@google.com.hk', 3896612994);
INSERT INTO conference (PARTICIPANTID, FIRSTNAME, INSERTION, LASTNAME, EMAIL, PHONENUMBER) VALUES ('3', 'Neda', 'ncommander2', 'Commander', 'ncommander2@google.co.jp', 8823491928);
INSERT INTO conference (PARTICIPANTID, FIRSTNAME, INSERTION, LASTNAME, EMAIL, PHONENUMBER) VALUES ('4', 'Dav', 'dsilverlock3', 'Silverlock', 'dsilverlock3@discuz.net', 6325212856);
INSERT INTO conference (PARTICIPANTID, FIRSTNAME, INSERTION, LASTNAME, EMAIL, PHONENUMBER) VALUES ('15', 'Dav', 'dsilverlock3', 'Silverlock', 'dsilverlock3@discuz.net', 6325212856);

INSERT INTO PARTICIPANT_OF_CAMPAIGN (PARTICIPANTID, CAMPAIGN_ID, TIME_STARTED, TIME_ENDED) VALUES ('1', 1, '2019-12-04 15:00:23', '2019-12-04 16:00:23');
INSERT INTO PARTICIPANT_OF_CAMPAIGN (PARTICIPANTID, CAMPAIGN_ID, TIME_STARTED) VALUES ('2', 1, '2019-12-04 15:00:23');
INSERT INTO PARTICIPANT_OF_CAMPAIGN (PARTICIPANTID, CAMPAIGN_ID, TIME_STARTED, TIME_ENDED) VALUES ('3', 1, '2019-12-04 15:00:23', '2019-12-05 18:03:23');
INSERT INTO PARTICIPANT_OF_CAMPAIGN (PARTICIPANTID, CAMPAIGN_ID, TIME_STARTED, TIME_ENDED) VALUES ('4', 1, '2019-12-04 15:00:23', '2019-12-04 16:00:23');
INSERT INTO PARTICIPANT_OF_CAMPAIGN (PARTICIPANTID, CAMPAIGN_ID, TIME_STARTED, TIME_ENDED) VALUES ('9', 1, '2019-12-04 15:00:23', '2019-12-04 17:00:23');
INSERT INTO PARTICIPANT_OF_CAMPAIGN (PARTICIPANTID, CAMPAIGN_ID, TIME_STARTED, TIME_ENDED) VALUES ('10', 1, '2019-12-04 15:00:23', '2019-12-05 18:03:23');
INSERT INTO PARTICIPANT_OF_CAMPAIGN (PARTICIPANTID, CAMPAIGN_ID, TIME_STARTED, TIME_ENDED) VALUES ('11', 1, '2019-12-04 15:00:23', '2019-12-04 16:00:23');
INSERT INTO PARTICIPANT_OF_CAMPAIGN (PARTICIPANTID, CAMPAIGN_ID, TIME_STARTED, TIME_ENDED) VALUES ('12', 1, '2019-12-04 15:00:23', '2019-12-04 17:00:23');

INSERT INTO PARTICIPANT_OF_CAMPAIGN (PARTICIPANTID, CAMPAIGN_ID, TIME_STARTED, TIME_ENDED) VALUES ('5', 2, '2019-12-04 15:00:23', '2019-12-04 16:00:23');
INSERT INTO PARTICIPANT_OF_CAMPAIGN (PARTICIPANTID, CAMPAIGN_ID, TIME_STARTED, TIME_ENDED) VALUES ('6', 2, '2019-12-04 15:00:23', '2019-12-04 17:00:23');
INSERT INTO PARTICIPANT_OF_CAMPAIGN (PARTICIPANTID, CAMPAIGN_ID, TIME_STARTED, TIME_ENDED) VALUES ('7', 2, '2019-12-04 15:00:23', '2019-12-05 18:03:23');
INSERT INTO PARTICIPANT_OF_CAMPAIGN (PARTICIPANTID, CAMPAIGN_ID, TIME_STARTED, TIME_ENDED) VALUES ('8', 2, '2019-12-04 15:00:23', '2019-12-04 16:00:23');

INSERT INTO PARTICIPANT_OF_CAMPAIGN (PARTICIPANTID, CAMPAIGN_ID, TIME_STARTED, TIME_ENDED) VALUES ('5', 3, '2019-12-04 15:00:23', '2019-12-05 18:03:23');
INSERT INTO PARTICIPANT_OF_CAMPAIGN (PARTICIPANTID, CAMPAIGN_ID, TIME_STARTED) VALUES ('18', 3, '2019-12-04 15:00:23');

INSERT INTO campaign (CAMPAIGN_ID, CAMPAIGN_NAME, CATEGORY_NAME, CAMPAIGN_TYPE, USERNAME, AMOUNT_OF_QUESTIONS, TIMELIMIT, STATE) VALUES (1,'HC2 Holdings, Inc', 'JAVA', 'conferentie', 'admin', 1, 1, true);
INSERT INTO campaign (CAMPAIGN_ID, CAMPAIGN_NAME, CATEGORY_NAME, CAMPAIGN_TYPE, USERNAME, AMOUNT_OF_QUESTIONS, TIMELIMIT, STATE) VALUES (2,'Syros Pharmaceuticals, Inc','.NET', 'conferentie','hcollerd1', 2, 2, true);
INSERT INTO campaign (CAMPAIGN_ID, CAMPAIGN_NAME, CATEGORY_NAME, CAMPAIGN_TYPE, USERNAME, AMOUNT_OF_QUESTIONS, TIMELIMIT, STATE) VALUES (3,'Principal U.S. Small Cap Index ETF', 'Python', 'conferentie','apudney2',  3, 3, false);
